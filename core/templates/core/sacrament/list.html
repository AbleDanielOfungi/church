{% extends 'core/base.html' %}

{% block content %}
<h2>Sacraments</h2>

<a href="{% url 'add_sacrament' %}">Add Sacrament</a>

{% if messages %}
<ul>
    {% for message in messages %}
    <li style="color: green;">{{ message }}</li>
    {% endfor %}
</ul>
{% endif %}

<table border="1">
    <tr>
        <th>Type</th>
        <th>Recipient</th>
        <th>Priest</th>
        <th>Date</th>
        <th>Location</th>
        <th>Actions</th>
    </tr>
    {% for sacrament in sacraments %}
    <tr>
        <td>{{ sacrament.sacrament_type }}</td>
        <td>{{ sacrament.recipient_name }}</td>
        <td>{{ sacrament.priest }}</td>
        <td>{{ sacrament.sacrament_date }}</td>
        <td>{{ sacrament.sacrament_location }}</td>
        <td>
            <a href="{% url 'edit_sacrament' sacrament.sacrament_id %}">Edit</a> |
            <a href="{% url 'delete_sacrament' sacrament.sacrament_id %}" onclick="return confirm('Are you sure you want to delete this sacrament?')">Delete</a>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
